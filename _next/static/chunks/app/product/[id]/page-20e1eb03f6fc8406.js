(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{9252:function(e,s,a){Promise.resolve().then(a.bind(a,7495))},7495:function(e,s,a){"use strict";a.d(s,{default:function(){return g}});var l=a(7437),t=a(2265),c=a(3145),r=a(9376),i=a(9089),n=a(1609),d=a(9536),o=a(6922),x=a(2155),m=a(322);function h(e){let{onCategoryChange:s}=e,a=(0,r.useSearchParams)(),t=(0,r.useRouter)();return(0,l.jsx)(m.Z,{activeCategory:a.get("category")||"all",onCategoryChange:e=>{let l=new URLSearchParams(a);"all"===e?l.delete("category"):l.set("category",e),t.push("/?".concat(l.toString())),s(e)}})}function g(e){var s,a,m;let{params:g}=e,[u,j]=(0,t.useState)(null),[N,p]=(0,t.useState)(!1),[f,v]=(0,t.useState)(!0),y=(0,r.useRouter)(),{toggleFavorite:b,isFavorite:w}=(0,d.r)(),{addToCart:k,isInCart:C}=(0,o.j)(),[S,_]=(0,t.useState)("all");return((0,t.useEffect)(()=>{(async()=>{try{let e=await n.M.getById(parseInt(g.id));j(e),e&&_(e.category)}catch(e){console.error("Failed to fetch product:",e)}finally{v(!1)}})()},[g.id]),f)?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{className:"w-64 fixed top-0 left-0 bottom-0 bg-white shadow-sm"}),children:(0,l.jsx)(h,{onCategoryChange:_})}),(0,l.jsxs)("div",{className:"ml-0 md:ml-64",children:[(0,l.jsx)(x.Z,{}),(0,l.jsx)("div",{className:"p-4 md:p-8 mt-16 w-full",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-8 w-32 bg-gray-200 rounded mb-8"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-200 rounded-xl"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,l.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,l.jsx)("div",{className:"h-12 bg-gray-200 rounded w-1/3"})]})]})]})})]})]}):u?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{className:"w-64 fixed top-0 left-0 bottom-0 bg-white shadow-sm"}),children:(0,l.jsx)(h,{onCategoryChange:_})}),(0,l.jsxs)("div",{className:"ml-0 md:ml-64",children:[(0,l.jsx)(x.Z,{}),(0,l.jsxs)("div",{className:"p-4 md:p-8 mt-16",children:[(0,l.jsxs)("button",{onClick:()=>y.back(),className:"flex items-center text-gray-600 hover:text-black mb-8 transition-colors",children:[(0,l.jsx)(i.x_l,{className:"mr-2"}),"Back to products"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:(0,l.jsxs)("div",{className:"relative aspect-square bg-white",children:[N?(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)(i.H3h,{className:"text-6xl text-gray-300"})}):(0,l.jsx)(c.default,{src:u.image,alt:u.title,fill:!0,className:"object-contain p-8",sizes:"(max-width: 768px) 100vw, 50vw",onError:()=>p(!0)}),(0,l.jsx)("button",{onClick:()=>u&&b(u),className:"absolute top-3 right-3 p-2 rounded-full bg-white/80 backdrop-blur-sm hover:bg-white transition-colors shadow-sm z-10",children:(0,l.jsx)(i.$0H,{className:"text-2xl ".concat(w(u.id)?"text-red-500":"text-gray-400")})})]})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:u.title}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex items-center bg-white rounded-full px-3 py-1 shadow-sm",children:[(0,l.jsx)(i.QJe,{className:"text-yellow-400 mr-1"}),(0,l.jsx)("span",{className:"font-medium",children:(null===(s=u.rating)||void 0===s?void 0:s.rate)||0}),(0,l.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",(null===(a=u.rating)||void 0===a?void 0:a.count)||0," reviews)"]})]})}),(0,l.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed",children:u.description}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-baseline",children:[(0,l.jsxs)("span",{className:"text-3xl font-bold text-red-600",children:["$",u.price.toFixed(2)]}),u.price<300&&(0,l.jsxs)("span",{className:"ml-2 text-gray-400 line-through",children:["$",(1.4*u.price).toFixed(2)]})]}),(0,l.jsxs)("button",{onClick:e=>{e.preventDefault(),u&&k(u)},className:"w-full sm:w-auto px-8 py-3 text-lg rounded-lg transition-colors flex items-center justify-center gap-2 ".concat(C(u.id)?"bg-green-500 text-white hover:bg-green-600":"bg-black text-white hover:bg-gray-800"),children:[(0,l.jsx)(i.FeP,{}),C(u.id)?"In Cart":"Add to Cart"]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"font-semibold text-gray-900",children:"Product Details"}),(0,l.jsxs)("ul",{className:"space-y-2",children:[(0,l.jsxs)("li",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-500 w-32",children:"Category:"}),(0,l.jsx)("span",{className:"text-gray-900 capitalize",children:u.category})]}),(0,l.jsxs)("li",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-500 w-32",children:"Rating:"}),(0,l.jsxs)("span",{className:"text-gray-900",children:[null===(m=u.rating)||void 0===m?void 0:m.rate," out of 5"]})]}),(0,l.jsxs)("li",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-500 w-32",children:"Stock:"}),(0,l.jsx)("span",{className:"text-gray-900",children:"In Stock"})]})]})]})]})]})]})]})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{className:"w-64 fixed top-0 left-0 bottom-0 bg-white shadow-sm"}),children:(0,l.jsx)(h,{onCategoryChange:_})}),(0,l.jsxs)("div",{className:"ml-0 md:ml-64",children:[(0,l.jsx)(x.Z,{}),(0,l.jsx)("div",{className:"p-4 md:p-8 mt-16 w-full",children:"Product not found"})]})]})}}},function(e){e.O(0,[699,464,127,115,971,117,744],function(){return e(e.s=9252)}),_N_E=e.O()}]);